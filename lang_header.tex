% =========================================================================== %
% Generic LaTeX template for a document
% Copyright (C) 2014  Federico "MrModd" Cosentino (http://mrmodd.it/)
%
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
% =========================================================================== %

\usepackage{listings} % Required for insertion of code
\usepackage[usenames,dvipsnames]{color} % Required for custom colors

%----------------------------------------------------------------------------------------
%	CODE INCLUSION CONFIGURATION
%----------------------------------------------------------------------------------------

% Custom colors
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}

% Next macro is used for print red code
\newcommand{\code}[1]{\texttt{\textcolor{red}{#1}}} % [1] tells there's one argument (#1)

\lstloadlanguages{[ANSI]C,
		[ISO]C++,
		Java,
		Python,
		bash,
		Perl,
		XML,
		HTML
} % For a list of other languages supported see: ftp://ftp.tex.ac.uk/tex-archive/macros/latex/contrib/listings/listings.pdf

\newcommand{\customlit}{
	\lstset{
		literate={à}{{\`{a}}}1
			{è}{{\`{e}}}1
			{é}{{\'{e}}}1
			{ì}{{\`{i}}}1
			{ò}{{\`{o}}}1
			{ù}{{\`{u}}}1
			{È}{{\`{E}}}1
			% These are special character used in italian language
			% If not overridden they are rendered wrong
			% Add other literal in the format {a}{{b}}1
			% That is: when you read a, substitute b
			% Check on the internet for more complex literal formats
	}
}

\newcommand{\codedimension}{\scriptsize} % Set font dimension for all source codes listed

% The first parameter is the filename of the script (without extension), the second parameter is the caption
% \perlcode{source_file}{caption}
\newcommand{\perlcode}[2]{
\lstset{language=Perl,
		inputencoding=utf8,
		frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
		tabsize=4,
		numbers=left,
		firstnumber=1,
		stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \ccode{source_file}{caption}
\newcommand{\ccode}[2]{
\lstset{language=C,
		inputencoding=utf8,
		frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
		tabsize=4,
		numbers=left,
		firstnumber=1,
		stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \cppcode{source_file}{caption}
\newcommand{\cppcode}[2]{
\lstset{language=C++,
		inputencoding=utf8,
		frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
		tabsize=4,
		numbers=left,
		firstnumber=1,
		stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \javacode{source_file}{caption}
\newcommand{\javacode}[2]{
\lstset{language=Java,
		inputencoding=utf8,
		frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
		tabsize=4,
		numbers=left,
		firstnumber=1,
		stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \pythoncode{source_file}{caption}
\newcommand{\pythoncode}[2]{
\lstset{language=Python,
		inputencoding=utf8,
		frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
		tabsize=4,
		numbers=left,
		firstnumber=1,
		stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \bashcode{source_file}{caption}
\newcommand{\bashcode}[2]{
\lstset{language=bash,
		inputencoding=utf8,
        frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		keywordstyle=\color{pblue},
		stringstyle=\color{pred},
		numberstyle=\color{Blue},
		commentstyle=\color{pgreen},
		morecomment=[l][\color{Blue}]{...},
        tabsize=4,
        numbers=left,
        firstnumber=1,
        stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \xmlcode{source_file}{caption}
\newcommand{\xmlcode}[2]{
\lstset{inputencoding=utf8,
        frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		stringstyle=\color{Blue},
		commentstyle=\color{pgreen},
		identifierstyle=\color{maroon},
		morestring=[s]{"}{"},
		morecomment=[s]{?}{?},
		morecomment=[s]{!--}{--},
		moredelim=[s][\color{Black}]{>}{<},
		moredelim=[s][\color{Red}]{\ }{=},
        tabsize=4,
        numbers=left,
        firstnumber=1,
        stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}

% \htmlcode{source_file}{caption}
\newcommand{\htmlcode}[2]{
\lstset{inputencoding=utf8,
        frame=single,
		showspaces=false,
		showtabs=false,
		breaklines=true,
		breakatwhitespace=false,
		showstringspaces=false,
		tabsize=4,
		basicstyle=\ttfamily\codedimension,
		stringstyle=\color{Blue},
		commentstyle=\color{pgreen},
		identifierstyle=\color{maroon},
		morestring=[s]{"}{"},
		morecomment=[s]{?}{?},
		morecomment=[s]{!--}{--},
		moredelim=[s][\color{Black}]{>}{<},
		moredelim=[s][\color{Red}]{\ }{=},
        tabsize=4,
        numbers=left,
        firstnumber=1,
        stepnumber=5,
		prebreak={},
		postbreak={}
}
\customlit
\begin{itemize}
\item[]\lstinputlisting[caption=#2,label=#1]{\sourcepath#1}
\end{itemize}
}
